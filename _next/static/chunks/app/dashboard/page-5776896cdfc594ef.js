(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{10:(e,s,a)=>{Promise.resolve().then(a.bind(a,2861))},2861:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var t=a(5155),r=a(2115),l=a(5695),d=a(1868),i=a(9323),c=a(2573),x=a(1935),n=a(5040),o=a(9946);let m=(0,o.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),h=(0,o.A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var g=a(8186);let y=(0,o.A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),b=(0,o.A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);function p(){let{user:e,profile:s,signOut:a}=(0,d.A)(),o=(0,l.useRouter)(),[p,j]=(0,r.useState)(!0),[k,u]=(0,r.useState)({totalLessons:0,completedLessons:0,totalScore:0,averageScore:0}),[N,v]=(0,r.useState)(null);if((0,r.useEffect)(()=>e?s&&s.job_type&&s.swedish_level?void(async()=>{try{let s=await i.E.getUserProgress(e.id),a=s.filter(e=>e.completed).length,t=s.reduce((e,s)=>e+s.score,0),r=s.length>0?t/s.length:0;u({totalLessons:10,completedLessons:a,totalScore:t,averageScore:r}),v({id:"beginner-001",title:"Basic Greetings",description:"Learn essential Swedish greetings",level:"beginner",jobType:null,order:1,estimatedTime:15,content:{vocabulary:["hej","god morgon"],phrases:["Hej, hur m\xe5r du?"],grammar:["Basic sentence structure"],exercises:[]}})}catch(e){console.error("Error:",e)}finally{j(!1)}})():void o.push("/onboarding"):void o.push("/"),[e,s,o]),p)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading your dashboard..."})]})});if(!e)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Redirecting..."})]})});if(!s||!s.job_type||!s.swedish_level)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Redirecting to onboarding..."})]})});let w=k.totalLessons>0?Math.round(k.completedLessons/k.totalLessons*100):0,f=k.completedLessons;return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[(0,t.jsx)("header",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"})}),(0,t.jsx)(x.H,{user:e,profile:s})]})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow dark:shadow-lg border border-gray-200 dark:border-slate-700 p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:(0,t.jsx)(n.A,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Current Streak"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f})]})]})}),(0,t.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow dark:shadow-lg border border-gray-200 dark:border-slate-700 p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,t.jsx)(m,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Today's Goal"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:N?N.title:"Complete a lesson"})]})]})}),(0,t.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow dark:shadow-lg border border-gray-200 dark:border-slate-700 p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:(0,t.jsx)(h,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Level Progress"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[w,"%"]})]})]})}),(0,t.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow dark:shadow-lg border border-gray-200 dark:border-slate-700 p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:(0,t.jsx)(g.A,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Average Score"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Math.round(k.averageScore)})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow dark:shadow-lg border border-gray-200 dark:border-slate-700 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Today's Lesson"}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[(0,t.jsx)(y,{className:"w-4 h-4 mr-1"}),N?"".concat(N.estimatedTime," min"):"15 min"]})]}),N?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:N.title}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:N.description})]}),(0,t.jsxs)(c.$,{onClick:()=>{N?o.push("/lesson/".concat(N.id)):o.push("/lesson/beginner-001")},className:"w-full cursor-pointer",children:[(0,t.jsx)(b,{className:"w-4 h-4 mr-2"}),"Start Today's Lesson"]})]}):(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No lessons available. Please check back later."})})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow dark:shadow-lg border border-gray-200 dark:border-slate-700 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Your Progress"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Level Progress"}),(0,t.jsxs)("span",{className:"text-gray-900 dark:text-white",children:[w,"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 dark:bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(w,"%")}})}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[w,"% of level completed"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Lessons Completed"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:k.completedLessons})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Score"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:k.totalScore})]})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow dark:shadow-lg border border-gray-200 dark:border-slate-700 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Profile"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Name"}),(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:(null==s?void 0:s.full_name)||"Not set"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email"}),(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Swedish Level"}),(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:(null==s?void 0:s.swedish_level)||"Not set"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Profession"}),(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:(null==s?void 0:s.job_type)||"Not set"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow dark:shadow-lg border border-gray-200 dark:border-slate-700 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),(0,t.jsx)("div",{className:"space-y-3",children:f>0?(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Completed ",f," lesson",1!==f?"s":""]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Keep up the great work!"})]})]}):(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No recent activity"}),(0,t.jsx)("p",{className:"text-gray-400 dark:text-gray-500 text-xs mt-1",children:"Start your first lesson to see activity here"})]})})]})]})]})]})]})}},5040:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},8186:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]])}},e=>{e.O(0,[647,84,787,441,964,358],()=>e(e.s=10)),_N_E=e.O()}]);