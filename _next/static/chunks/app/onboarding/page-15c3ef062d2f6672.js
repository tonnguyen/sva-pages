(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{3428:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>A});var s=t(5155),r=t(2115),i=t(5695),l=t(1868),n=t(2099);let o=[{value:"tech",label:"Technology",swedishLabel:"Teknologi",description:"Software development, IT, engineering, and tech-related fields"},{value:"healthcare",label:"Healthcare",swedishLabel:"V\xe5rd",description:"Medical, nursing, pharmacy, and healthcare services"},{value:"business",label:"Business",swedishLabel:"F\xf6retag",description:"Management, finance, consulting, and corporate roles"},{value:"education",label:"Education",swedishLabel:"Utbildning",description:"Teaching, academic, and educational services"},{value:"retail",label:"Retail",swedishLabel:"Detaljhandel",description:"Sales, customer service, and retail operations"},{value:"hospitality",label:"Hospitality",swedishLabel:"G\xe4stfrihet",description:"Hotels, restaurants, tourism, and service industry"},{value:"other",label:"Other",swedishLabel:"Annat",description:"Other professions and industries"}];var d=t(2573),c=t(381),h=t(9946);let m=(0,h.A)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),u=(0,h.A)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),b=(0,h.A)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),x=(0,h.A)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]),g=(0,h.A)("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),p=(0,h.A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),y={tech:c.A,healthcare:m,business:u,education:b,retail:x,hospitality:g,other:p},v=e=>{let{onSelect:a,selectedJobType:t}=e;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"What's your profession?"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"We'll customize your lessons based on your work environment"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(e=>{let r=y[e.value],i=t===e.value;return(0,s.jsx)("button",{onClick:()=>a(e.value),className:"p-6 rounded-xl border-2 transition-all duration-200 text-left hover:shadow-md ".concat(i?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 bg-white dark:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-600"),children:(0,s.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg ".concat(i?"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),children:(0,s.jsx)(r,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:e.label}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:e.swedishLabel}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.description})]})]})},e.value)})}),t&&(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(d.$,{onClick:()=>a(t),className:"w-full md:w-auto",children:"Continue"})})]})},k=[{value:"beginner",label:"Beginner",swedishLabel:"Nyb\xf6rjare",description:"No prior knowledge of Swedish. Start from the basics.",estimatedWeeks:4},{value:"elementary",label:"Elementary",swedishLabel:"Grundl\xe4ggande",description:"Know some basic phrases and can introduce yourself.",estimatedWeeks:6},{value:"intermediate",label:"Intermediate",swedishLabel:"Mellanliggande",description:"Can have simple conversations and understand basic grammar.",estimatedWeeks:8},{value:"advanced",label:"Advanced",swedishLabel:"Avancerad",description:"Fluent in most situations, working on complex topics.",estimatedWeeks:12}],w=[{id:"1",question:'How do you say "I don\'t speak Swedish" in Swedish?',options:["Jag talar inte svenska","Jag pratar inte svenska","Jag kan inte svenska","Jag f\xf6rst\xe5r inte svenska"],correctAnswer:"Jag talar inte svenska",explanation:'"Jag talar inte svenska" is the correct way to say "I don\'t speak Swedish".'},{id:"2",question:'What is the Swedish word for "Excuse me" (to get attention)?',options:["Urs\xe4kta","F\xf6rl\xe5t","Tack","Hej"],correctAnswer:"Urs\xe4kta",explanation:'"Urs\xe4kta" is used to get someone\'s attention or to say "excuse me" politely.'},{id:"3",question:'Which is the correct way to say "I am 25 years old"?',options:["Jag \xe4r 25 \xe5r","Jag har 25 \xe5r","Jag \xe4r 25 \xe5r gammal","Jag har 25 \xe5r gammal"],correctAnswer:"Jag \xe4r 25 \xe5r gammal",explanation:'In Swedish, you say "Jag \xe4r X \xe5r gammal" (I am X years old).'},{id:"4",question:'Which word means "because" in Swedish?',options:["Eftersom","Men","Och","Eller"],correctAnswer:"Eftersom",explanation:'"Eftersom" means "because" in Swedish. "Men" means "but", "och" means "and", "eller" means "or".'},{id:"5",question:'What is the correct form of "to work" in "Jag ___ p\xe5 ett kontor"?',options:["arbetar","arbeta","arbetade","arbetat"],correctAnswer:"arbetar",explanation:'"Jag arbetar" is the present tense form of "to work" in Swedish.'},{id:"6",question:'What does "Jag tycker om att l\xe4sa b\xf6cker" mean?',options:["I like to read books","I want to read books","I can read books","I have read books"],correctAnswer:"I like to read books",explanation:'"Jag tycker om att" means "I like to" in Swedish.'},{id:"7",question:'Which is the correct way to say "I have been to Sweden"?',options:["Jag har varit i Sverige","Jag var i Sverige","Jag \xe4r i Sverige","Jag kommer till Sverige"],correctAnswer:"Jag har varit i Sverige",explanation:'"Jag har varit" is the present perfect form meaning "I have been".'},{id:"8",question:'What is the correct form of the adjective "bra" (good) in "Det \xe4r en ___ dag"?',options:["bra","bra dag","braa","bra dag"],correctAnswer:"bra",explanation:'In Swedish, "bra" is an indeclinable adjective that doesn\'t change form.'},{id:"9",question:'Which word means "however" or "but" in Swedish?',options:["Men","Dock","Fast","Alla tre"],correctAnswer:"Alla tre",explanation:'All three words - "men", "dock", and "fast" - can mean "however" or "but" in different contexts.'},{id:"10",question:'What does "Det \xe4r l\xe4ttare sagt \xe4n gjort" mean?',options:["It is easier said than done","It is easier done than said","It is not easy","It is very easy"],correctAnswer:"It is easier said than done",explanation:'This is a Swedish idiom that means "It is easier said than done".'}],f=e=>e<=3?"beginner":e<=6?"elementary":e<=8?"intermediate":"advanced",j=(0,h.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),N=e=>{let{onComplete:a}=e,[t,i]=(0,r.useState)(0),[l,n]=(0,r.useState)([]),[o,c]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),u=w[t],b=t===w.length-1;if(o){let e=l.reduce((e,a,t)=>e+ +(a===w[t].correctAnswer),0),a=f(e),t=k.find(e=>e.value===a);return(0,s.jsx)("div",{className:"text-center space-y-6",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)(j,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Test Complete!"}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:["You scored ",e," out of ",w.length]}),(0,s.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:[(0,s.jsxs)("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-1",children:["Recommended Level: ",null==t?void 0:t.label]}),(0,s.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-200",children:null==t?void 0:t.description})]})]})})}return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Quick Swedish Level Test"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Answer 10 questions to help us find your perfect starting level"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Question ",t+1," of ",w.length]}),(0,s.jsx)("div",{className:"flex space-x-1",children:w.map((e,a)=>(0,s.jsx)("div",{className:"w-2 h-2 rounded-full transition-colors duration-200 ".concat(a<=t?"bg-blue-500":"bg-gray-200 dark:bg-gray-600")},a))})]}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:u.question}),(0,s.jsx)("div",{className:"space-y-3",children:u.options.map((e,a)=>(0,s.jsx)("button",{onClick:()=>{m(e)},className:"w-full p-4 text-left rounded-lg border-2 transition-all duration-200 ".concat(h===e?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500 bg-white dark:bg-slate-700"),children:(0,s.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e})},a))}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,s.jsx)(d.$,{variant:"ghost",onClick:()=>{a("beginner")},className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:"Skip test"}),(0,s.jsx)(d.$,{onClick:()=>{if(h){let e=[...l,h];if(n(e),m(null),b){let t=f(e.reduce((e,a,t)=>e+ +(a===w[t].correctAnswer),0));c(!0),setTimeout(()=>a(t),2e3)}else i(t+1)}},disabled:!h,className:"min-w-[100px]",children:b?"Finish":"Next"})]})]})]})};var S=t(1935);let _=(0,h.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function A(){let{user:e,loading:a,profile:t,refreshProfile:o}=(0,l.A)(),c=(0,i.useRouter)(),[h,m]=(0,r.useState)("job-type"),[u,b]=(0,r.useState)(null),[x,g]=(0,r.useState)(null),[p,y]=(0,r.useState)(!1),[k,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{let e=window.location.hash;if(e&&e.includes("access_token")){w(!0);try{var a;window.history.replaceState({},"","/onboarding"),await new Promise(e=>setTimeout(e,1e3));let{data:e,error:t}=await n.N.auth.getSession();if(t){console.error("Error getting session:",t),w(!1),c.push("/?error=auth_error&error_description=Failed to complete authentication");return}if(null==(a=e.session)?void 0:a.user){let{data:a}=await n.N.from("profiles").select("*").eq("id",e.session.user.id).single();a&&a.job_type&&a.swedish_level?c.push("/dashboard"):w(!1)}else w(!1),c.push("/?error=auth_error&error_description=Authentication failed")}catch(e){console.error("Error processing OAuth callback:",e),w(!1),c.push("/?error=auth_error&error_description=Failed to process authentication")}}})()},[c]),(0,r.useEffect)(()=>{if(!e&&!a&&!k)return void c.push("/");if(e&&t&&t.job_type&&t.swedish_level&&!k){console.log("User has complete profile, redirecting to dashboard"),c.push("/dashboard");return}!e||a||k||console.log("User authenticated but needs onboarding:",{profile:t,jobType:u,swedishLevel:x})},[e,a,t,k,c,u,x]),(0,r.useEffect)(()=>{t&&(t.job_type&&!u&&b(t.job_type),t.swedish_level&&!x&&g(t.swedish_level),t.job_type&&!t.swedish_level&&"job-type"===h&&m("level-assessment"))},[t,u,x,h]);let f=async()=>{if(e&&u&&x){y(!0);try{var a;let{error:t}=await n.N.from("profiles").upsert({id:e.id,email:e.email,full_name:(null==(a=e.user_metadata)?void 0:a.full_name)||null,job_type:u,swedish_level:x,updated_at:new Date().toISOString()});if(t){console.error("Error saving profile:",t),alert("Failed to save profile. Please try again.");return}await o(),await new Promise(e=>setTimeout(e,500)),c.push("/dashboard")}catch(e){console.error("Error completing onboarding:",e),alert("An error occurred. Please try again.")}finally{y(!1)}}};return k||a||!e?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:k?"Completing authentication...":"Loading..."})]})}):t&&t.job_type&&t.swedish_level?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Redirecting to dashboard..."})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-900 dark:to-slate-800",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:["job-type"!==h&&(0,s.jsxs)(d.$,{variant:"ghost",onClick:()=>{"level-assessment"===h&&m("job-type")},className:"flex items-center space-x-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:[(0,s.jsx)(_,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Back"})]}),(0,s.jsx)("div",{className:"flex-1 text-center",children:(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Svenska Snabbt"})}),e&&(0,s.jsx)(S.H,{user:e,profile:t})]}),(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors duration-200 ".concat("job-type"===h?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-300"),children:"1"}),(0,s.jsx)("div",{className:"w-16 h-1 transition-colors duration-200 ".concat("level-assessment"===h||"complete"===h?"bg-blue-600":"bg-gray-200 dark:bg-gray-600")}),(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors duration-200 ".concat("level-assessment"===h||"complete"===h?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-300"),children:"2"})]})}),(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg dark:shadow-xl p-8 border border-gray-200 dark:border-slate-700",children:["job-type"===h&&(0,s.jsx)(v,{onSelect:e=>{b(e),m("level-assessment")},selectedJobType:u||(null==t?void 0:t.job_type)||void 0}),"level-assessment"===h&&(0,s.jsx)(N,{onComplete:e=>{g(e),m("complete")}}),"complete"===h&&(0,s.jsxs)("div",{className:"text-center space-y-6",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Perfect! You're all set"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"We've customized your learning path based on your profession and Swedish level."}),(0,s.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4 space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Profession:"}),(0,s.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:u})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Level:"}),(0,s.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:x})]})]}),(0,s.jsx)(d.$,{onClick:f,disabled:p,className:"w-full",children:p?"Setting up...":"Start Learning"})]})]})]})})})}},4493:(e,a,t)=>{Promise.resolve().then(t.bind(t,3428))}},e=>{e.O(0,[647,84,787,441,964,358],()=>e(e.s=4493)),_N_E=e.O()}]);